<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Overlay Editor</title>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preload" href="./Bookerly-Regular.ttf" as="font" type="font/ttf" crossorigin>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <!-- jsPDF is still needed -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- html2canvas is no longer required for the PDF exporter -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header id="controls">
        <div class="control-group file-inputs">
            <div class="file-input-wrapper">
                <label for="file-input" class="btn">Choose PDF</label>
                <span id="pdf-file-name">No file selected</span>
                <input type="file" id="file-input" accept=".pdf" class="visually-hidden">
            </div>
            <div class="file-input-wrapper">
                <label for="json-input" class="btn">Choose JSON</label>
                <span id="json-file-name">Using default</span>
                <input type="file" id="json-input" accept=".json" class="visually-hidden">
            </div>
        </div>
        <div class="control-group options">
            <div class="theme-wrapper">
                <span>Theme:</span>
                <div id="palette-container"></div>
            </div>
            <div class="slider-wrapper">
                <label for="opacity-slider">Opacity:</label>
                <input type="range" id="opacity-slider" min="0" max="100" value="95">
                <span id="opacity-value">100%</span>
            </div>
            <div class="slider-wrapper">
                <label for="brightness-slider">Text:</label>
                <input type="range" id="brightness-slider" min="0" max="100" value="5">
                <span id="brightness-value">100%</span>
            </div>
        </div>
        <div class="control-group actions">
            <div class="expand-controls">
                <input type="number" id="expand-amount" value="2" min="1" step="1" title="Amount to expand all overlays">
                <button id="expand-all-btn" class="btn">Expand All</button>
            </div>
            <button id="save-print-btn" class="btn">Print Exporter</button>
            <button id="save-direct-pdf-btn" class="btn">PDF Exporter</button>
            <button id="save-html-btn" class="btn btn-primary">HTML Exporter</button>
            <span id="page-info">Please select a PDF file</span>
        </div>
    </header>
    <main id="pdf-container">
        <div class="loading">Select a PDF file to begin</div>
    </main>
    <script type="module" src="js/main.js"></script>
</body>
</html>